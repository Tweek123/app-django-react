(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{411:function(e,r,a){e.exports=a(805)},792:function(e,r,a){},805:function(e,r,a){"use strict";a.r(r);var t={};a.r(t),a.d(t,"rootServer",function(){return y}),a.d(t,"rootHome",function(){return C}),a.d(t,"getClientData",function(){return D}),a.d(t,"authUser",function(){return N}),a.d(t,"addUser",function(){return T}),a.d(t,"changeUser",function(){return U}),a.d(t,"removeUser",function(){return M}),a.d(t,"getUsers",function(){return V}),a.d(t,"getClients",function(){return A}),a.d(t,"homePage",function(){return L}),a.d(t,"statisticsPage",function(){return x}),a.d(t,"usersPage",function(){return k}),a.d(t,"adminPage",function(){return H});a(412);var n=a(1),c=a.n(n),s=a(14),o=a(91),l=a.n(o),i=a(142),u=a(809),m=a(829),d=a(824),E=a(59),p=function(e){return{type:"USER_REDIRECT",url:e}},f=function(e,r){return{type:"OPEN_MODAL",form:e,formType:r}},b=a(823),O=a(825),_=a(826),h=a(808),g=a(827),w=a(822),j=a(828),v=a(136),R=function(){var e=Object(n.useState)({}),r=Object(E.a)(e,2),a=r[0],t=r[1],o=Object(s.b)(),l=Object(s.c)(function(e){return e.usersReducer.errors.authError});return c.a.createElement(b.a,{header:c.a.createElement("h3",null,"Login"),bordered:!0},c.a.createElement(O.a,{fluid:!0,onChange:function(e){t(e)}},!(!l||500!==l.status)&&c.a.createElement(_.a,{className:"login-form__login-error",type:"error",description:l.message}),c.a.createElement(h.a,null,c.a.createElement(g.a,null,"Username"),c.a.createElement(w.a,{name:"login"})),c.a.createElement(h.a,null,c.a.createElement(g.a,null,"Password"),c.a.createElement(w.a,{name:"password",type:"password"})),!(!l||401!==l.status)&&c.a.createElement(_.a,{className:"login-form__login-error",type:"error",description:l.message}),c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(v.a,{appearance:"primary",onClick:function(){return o({type:"AUTH_USER",loginForm:a})}},"Sign in")))))},S=function(){return c.a.createElement("div",{className:"show-fake-browser login-page"},c.a.createElement(u.a,null,c.a.createElement(m.a,null,c.a.createElement(d.a,{justify:"center"},c.a.createElement(d.a.Item,{colspan:12},c.a.createElement(R,null))))))},y="https://safe-meadow-35536.herokuapp.com",C="https://safe-meadow-35536.herokuapp.com",D="".concat(y,"/getClientData/"),N="".concat(y,"/authUser/"),T="".concat(y,"/addUser/"),U="".concat(y,"/changeUser/"),M="".concat(y,"/removeUser/"),V="".concat(y,"/getUsersData/"),A="".concat(y,"/getClients/"),L="/",x="/statistics/",k="/users/",H="".concat(y,"/admin/"),I=a(832),G=a(819),Y=a(70),P=function(){var e=Object(s.c)(function(e){return e.usersReducer.user}),r=Object(s.b)();return e.url===x?c.a.createElement(G.a,null,!!e.admin&&c.a.createElement("a",{href:H},c.a.createElement(G.a.Item,{eventKey:"1",icon:c.a.createElement(Y.a,{icon:"id-card"})},"Django admin")),!!e.admin&&c.a.createElement(G.a.Item,{onClick:function(){return r(p(k))},eventKey:"2",icon:c.a.createElement(Y.a,{icon:"group"})},"Users"),c.a.createElement(G.a.Item,{onClick:function(){r({type:"LOGOUT"})},eventKey:"3",icon:c.a.createElement(Y.a,{icon:"sign-out"})},"Sign out")):e.url===k&&c.a.createElement(G.a,null,!!e.admin&&c.a.createElement("a",{href:H},c.a.createElement(G.a.Item,{eventKey:"1",icon:c.a.createElement(Y.a,{icon:"id-card"})},"Django admin")),!!e.admin&&c.a.createElement(G.a.Item,{onClick:function(){return r(p(k))},eventKey:"2",icon:c.a.createElement(Y.a,{icon:"group"})},"Users"),c.a.createElement(G.a.Item,{onClick:function(){return r(p(x))},eventKey:"3",icon:c.a.createElement(Y.a,{icon:"group"})},"Statistics"),c.a.createElement(G.a.Item,{onClick:function(){r({type:"LOGOUT"})},eventKey:"4",icon:c.a.createElement(Y.a,{icon:"sign-out"})},"Sign out"))},B=a(830),F=a(810),K={padding:18,fontSize:16,height:56,background:"#34c3ff",color:" #fff",whiteSpace:"nowrap",overflow:"hidden"},z={padding:18,fontSize:16,height:56,background:"white",color:"#575757",whiteSpace:"nowrap",overflow:"hidden"},J=function(){var e=Object(s.c)(function(e){return e.usersReducer.user});return c.a.createElement(B.a,{style:{display:"flex",flexDirection:"column"},width:260,collapsible:!0},c.a.createElement(F.a.Header,null,c.a.createElement("div",{style:K},c.a.createElement(Y.a,{icon:"logo-analytics",size:"lg",style:{verticalAlign:0}}),c.a.createElement("span",{style:{marginLeft:12}},"BREWAHOY"))),c.a.createElement(F.a,{defaultOpenKeys:["3"],appearance:"subtle"},c.a.createElement(F.a.Body,null,c.a.createElement("div",{style:z},c.a.createElement(Y.a,{icon:"user",size:"lg",style:{verticalAlign:0}}),c.a.createElement("span",{style:{marginLeft:12}},e.name)),c.a.createElement(P,null))))},W=a(112),Z=a(9),X=a(385),$=a(831),q=a(818),Q=(a(767),a(821)),ee=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.clientsReducer.clients}),a=Object(s.c)(function(e){return e.clientsReducer.client}),t=r.map(function(e){return{label:"".concat(e.name),value:"".concat(e.id)}});return Object(n.useEffect)(function(){r&&r.length||e({type:"GET_CLIENTS"})},[r]),!!r.length&&c.a.createElement(Q.a,{cleanable:!1,className:"clients__picker",onChange:function(r){e(function(e){return{type:"SELECT_CLIENT",id:e}}(r))},data:t,style:{width:224},defaultValue:"".concat(a.id)})},re={labels:[],pointDot:!0,showLines:!1,datasets:[{label:"People",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"rgba(75,192,192,1)",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,cubicInterpolationMode:"monotone",data:[]},{label:"Hide",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"blue",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"blue",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,cubicInterpolationMode:"monotone",showLine:!1},{label:"Hide",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"red",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"red",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,cubicInterpolationMode:"monotone",showLine:!1}]},ae={scales:{xAxes:[{type:"time",time:{displayFormats:{millisecond:"YYYY MMM DD HH:MM:SS",second:"YYYY MMM DD HH:MM:SS",minute:"YYYY MMM DD HH:MM:SS",hour:"YYYY MMM DD HH:MM:SS",day:"YYYY MMM DD HH:MM:SS",week:"YYYY MMM DD HH:MM:SS",month:"YYYY MMM DD HH:MM:SS",quarter:"YYYY MMM DD HH:MM:SS",year:"YYYY MMM DD HH:MM:SS"},ticks:{autoSkip:!0,maxTicksLimit:10}}}]},title:{display:!0,text:"Queue of people"},legend:{labels:{filter:function(e){return!e.text.includes("Hide")}}}},te=function(){var e=Object(s.b)(),r=Object(n.useState)({}),a=Object(E.a)(r,2),t=a[0],o=a[1],l=Object(s.c)(function(e){return e.clientsReducer.client});Object(n.useEffect)(function(){l&&l.name&&(console.log(l.range),e({type:"GET_CLIENT_DATA",params:{changeInterval:l.changeInterval,id:l.id,range:l.range}}))},[l.id,l.changeInterval,l.range]),Object(n.useEffect)(function(){o(u(l.clientData,l.changeInterval))},[l.clientData]);var i=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},u=function(e,r){if(re.datasets[0].data=[],re.datasets[1].data=[],re.datasets[2].data=[],re.labels=[],!r){re.datasets[0]=Object(Z.a)(Object(Z.a)({},re.datasets[0]),{},{label:"People",borderColor:"rgba(75,192,192,1)",pointBackgroundColor:"rgba(75,192,192,1)"}),re.datasets[1]=Object(Z.a)(Object(Z.a)({},re.datasets[1]),{},{label:"Hide",showLine:!1}),re.datasets[2]=Object(Z.a)(Object(Z.a)({},re.datasets[2]),{},{label:"Hide",showLine:!1});var a,t=Object(W.a)(e);try{for(t.s();!(a=t.n()).done;){var n=a.value,c=new Date(n.time);re.datasets[0].data.push(n.value),re.labels.push(i(c))}}catch(m){t.e(m)}finally{t.f()}return Object(Z.a)({},re)}if(r){re.datasets[0]=Object(Z.a)(Object(Z.a)({},re.datasets[0]),{},{label:"Minimum",borderColor:"green",pointBackgroundColor:"green"}),re.datasets[1]=Object(Z.a)(Object(Z.a)({},re.datasets[1]),{},{label:"Medium",showLine:!0}),re.datasets[2]=Object(Z.a)(Object(Z.a)({},re.datasets[2]),{},{label:"Maximum",showLine:!0});var s,o=Object(W.a)(e);try{for(o.s();!(s=o.n()).done;){var l=s.value,u=new Date(l.time);re.datasets[0].data.push(l.min),re.datasets[1].data.push((l.max+l.min)/2),re.datasets[2].data.push(l.max),re.labels.push(i(u))}}catch(m){o.e(m)}finally{o.f()}return Object(Z.a)({},re)}};return c.a.createElement("div",{className:"chart"},c.a.createElement("div",{className:"chart__tools"},c.a.createElement("div",{className:"chart__clients-wrapper"},c.a.createElement("h5",{className:"chart__clients-headline"},"Choose client:"),c.a.createElement(ee,null)),c.a.createElement("div",{className:"chart__toggle-wrapper"},c.a.createElement("h5",{className:"chart__toggle-headline"},"Show min, max:"),c.a.createElement($.a,{className:"chart__toggle",defaultChecked:l.changeInterval,onChange:function(r){e(function(e){return{type:"CHANGE_INTERVAL",change:e}}(r))}})),c.a.createElement("div",{className:"chart__range-wrapper"},c.a.createElement("h5",{className:"chart__range-headline"},"Choose date:"),c.a.createElement(q.a,{cleanable:!1,className:"chart__range",value:l.range,onChange:function(r){var a=new Date(Date.parse(r[0])),t=new Date(Date.parse(r[1]));e({type:"CHANGE_RANGE",range:[a,t]})}}))),c.a.createElement("div",{className:"chart__graph"},c.a.createElement(X.Line,{data:t,options:ae})))},ne=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.usersReducer.user});return Object(n.useEffect)(function(){r&&!r.name&&e({type:"LOAD_USER_FROM_STORAGE"})},[r]),c.a.createElement("div",{className:"sidebar-page"},c.a.createElement(u.a,null,c.a.createElement(J,null),c.a.createElement(u.a,null,c.a.createElement(I.a,null,c.a.createElement("h2",null,"Statistics page")),c.a.createElement(m.a,{className:"content"},c.a.createElement(te,null)))))},ce=a(79),se=(a(792),a(817)),oe=a(816),le=a(410),ie=se.a.Column,ue=se.a.HeaderCell,me=se.a.Cell,de=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.usersReducer.users}),a=Object(n.useState)(r),t=Object(E.a)(a,2),o=t[0],l=t[1];return Object(n.useEffect)(function(){r&&r.length||e({type:"GET_USERS"}),l(r)},[r]),c.a.createElement("div",null,c.a.createElement("div",{className:"table__header"},c.a.createElement(oe.a,{className:"table__header-search"},c.a.createElement(le.a,{onChange:function(e){var a=r.filter(function(r){return r.username.includes(e)||r.first_name.includes(e)||r.last_name.includes(e)||r.email.includes(e)});l(a)}}),c.a.createElement(oe.a.Addon,null,c.a.createElement(Y.a,{icon:"search"}))),c.a.createElement(v.a,{appearance:"primary",className:"table__header-add-user",size:"sm",onClick:function(){return e(f(null,"ADD"))}},"Add user")),c.a.createElement(se.a,{data:o,virtualized:!0,height:400},c.a.createElement(ie,{width:120,align:"center",fixed:!0},c.a.createElement(ue,null,"id"),c.a.createElement(me,{dataKey:"id"})),c.a.createElement(ie,{width:120,align:"center",fixed:!0},c.a.createElement(ue,null,"Username"),c.a.createElement(me,{dataKey:"username"})),c.a.createElement(ie,{width:70,align:"center"},c.a.createElement(ue,null,"Admin"),c.a.createElement(me,{dataKey:"admin"})),c.a.createElement(ie,{width:120,align:"center"},c.a.createElement(ue,null,"First name"),c.a.createElement(me,{dataKey:"first_name"})),c.a.createElement(ie,{width:120,align:"center"},c.a.createElement(ue,null,"Last name"),c.a.createElement(me,{dataKey:"last_name"})),c.a.createElement(ie,{width:220,align:"center"},c.a.createElement(ue,null,"Email"),c.a.createElement(me,{dataKey:"email"})),c.a.createElement(ie,{width:120,fixed:"right"},c.a.createElement(ue,null,"Action"),c.a.createElement(me,null,function(r){return c.a.createElement("span",null,c.a.createElement("a",{onClick:function(){e(f(r,"EDIT"))}}," Edit ")," |"," ",c.a.createElement("a",{onClick:function(){e(f(r,"DELETE"))}}," Remove "))}))))},Ee=a(820),pe=a(409),fe=function(){var e=Object(s.c)(function(e){return e.modalReducer.modal.form}),r=Object(s.b)(),a=Object(Z.a)({},e);a.newpassword="",a.confirmpassword="",a.changepassword=!1;var t=Object(n.useState)(Object(Z.a)({},a)),o=Object(E.a)(t,2),l=o[0],i=o[1],u=Object(n.useState)(Object(Z.a)({},{usernameErrorValid:"",emailErrorValid:"",newpasswordErrorValid:"",confirmpasswordErrorValid:""})),m=Object(E.a)(u,2),d=m[0],p=m[1],f=Object(s.c)(function(e){return e.usersReducer.errors.changeUserError}),b=function(e){var r=!1;return R(e)&&(r=!0),S(e)&&(r=!0),p(Object(Z.a)({},d)),!r},R=function(e){return e.username?d.usernameErrorValid="":d.usernameErrorValid="Username must be not empty",e.email?d.emailErrorValid="":d.emailErrorValid="Email must be not empty",e.first_name?d.first_nameErrorValid="":d.first_nameErrorValid="First name must be not empty",e.last_name?d.last_nameErrorValid="":d.last_nameErrorValid="Last name must be not empty",e.changepassword&&(e.newpassword?d.newpasswordErrorValid="":d.newpasswordErrorValid="Password must be not empty",e.confirmpassword?d.confirmpasswordErrorValid="":d.confirmpasswordErrorValid="Confirm password must be not empty"),D(d)},S=function(e){var r;return d.emailErrorValid||(r=e.email,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?d.emailErrorValid="":d.emailErrorValid="Not valid email"),d.newpasswordErrorValid||d.confirmpasswordErrorValid||!e.changepassword||e.newpassword!==e.confirmpassword&&(d.newpasswordErrorValid="Password not coincide",d.confirmpasswordErrorValid="Password not coincide"),D(d)},y=function(e){return{id:e.id,username:e.username,first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.newpassword,is_superuser:e.is_superuser,changepassword:e.changepassword}},C=function(e){for(var r in e)e[r]=""},D=function(e){for(var r in e)if(e[r])return!0};return c.a.createElement(O.a,{fluid:!0,className:"form__edit",formValue:l,onChange:function(e){i(e)}},c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Username"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"username",errorMessage:d.usernameErrorValid?d.usernameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Email"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"email",errorMessage:d.emailErrorValid?d.emailErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Admin"),c.a.createElement(w.a,{name:"is_superuser",value:!!l.is_superuser,accepter:pe.a,inline:!0,checked:l.is_superuser,onChange:function(){l.is_superuser=!l.is_superuser,i(Object(Z.a)({},l))}})),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"First name"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"first_name",errorMessage:d.first_nameErrorValid?d.first_nameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Last name"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"last_name",errorMessage:d.last_nameErrorValid?d.last_nameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Change password"),c.a.createElement(w.a,{name:"changepassword",value:!!l.changepassword,accepter:pe.a,inline:!0,checked:l.changepassword,onChange:function(){l.changepassword=!l.changepassword,i(Object(Z.a)({},l))}})),!!l.changepassword&&c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"New password"),c.a.createElement(w.a,{name:"newpassword",errorMessage:d.newpasswordErrorValid?d.newpasswordErrorValid:"",type:"password"}),c.a.createElement(g.a,{className:"form__edit-headline"},"Confirm password"),c.a.createElement(w.a,{name:"confirmpassword",errorMessage:d.confirmpasswordErrorValid?d.confirmpasswordErrorValid:"",type:"password"})),!!f&&c.a.createElement(_.a,{className:"login-form__login-error",type:"error",description:f.message}),c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(v.a,{className:"toolbar__button",appearance:"primary",onClick:function(){if(C(d),b(l)){var e=y(l);r({type:"CHANGE_USER",changeUserForm:e})}}},"Update"),c.a.createElement(v.a,{className:"toolbar__button",onClick:function(){return r({type:"CLOSE_MODAL"})}},"Cancel"))))},be=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.modalReducer.modal.form}),a=Object(s.c)(function(e){return e.usersReducer.errors.removeUserError});return c.a.createElement(O.a,{fluid:!0,className:"form__delete"},c.a.createElement(h.a,null,c.a.createElement("h3",{className:"form__delete-headline"},"Are you sure?"),c.a.createElement(j.a,{className:"toolbar"},c.a.createElement(v.a,{className:"toolbar__button",color:"red",appearance:"primary",onClick:function(){return e({type:"REMOVE_USER",id:r.id})}},"Delete"),c.a.createElement(v.a,{className:"toolbar__button",onClick:function(){return e({type:"CLOSE_MODAL"})}},"Cancel"))),!!a&&c.a.createElement(_.a,{className:"login-form__login-error",type:"error",description:a.message}))},Oe=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.usersReducer.errors.addUserError}),a=Object(n.useState)(Object(Z.a)({},{username:"",email:"",is_superuser:!1,first_name:"",last_name:"",password:"",confirmpassword:""})),t=Object(E.a)(a,2),o=t[0],l=t[1],i=Object(n.useState)(Object(Z.a)({},{usernameErrorValid:"",emailErrorValid:"",first_nameErrorValid:"",last_nameErrorValid:"",passwordErrorValid:"",confirmpasswordErrorValid:""})),u=Object(E.a)(i,2),m=u[0],d=u[1],p=function(e){var r=!1;return f(e)&&(r=!0),b(e)&&(r=!0),d(Object(Z.a)({},m)),!r},f=function(e){return e.username?m.usernameErrorValid="":m.usernameErrorValid="Username must be not empty",e.email?m.emailErrorValid="":m.emailErrorValid="Email must be not empty",e.first_name?m.first_nameErrorValid="":m.first_nameErrorValid="First name must be not empty",e.last_name?m.last_nameErrorValid="":m.last_nameErrorValid="Last name must be not empty",e.password?m.passwordErrorValid="":m.passwordErrorValid="Password must be not empty",e.confirmpassword?m.confirmpasswordErrorValid="":m.confirmpasswordErrorValid="Confirm password must be not empty",y(m)},b=function(e){var r;return m.emailErrorValid||(r=e.email,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?m.emailErrorValid="":m.emailErrorValid="Not valid email"),m.passwordErrorValid||m.confirmpasswordErrorValid||e.password!==e.confirmpassword&&(m.passwordErrorValid="Password not coincide",m.confirmpasswordErrorValid="Password not coincide"),y(m)},R=function(e){return{username:e.username,first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password,is_superuser:e.is_superuser}},S=function(e){for(var r in e)e[r]=""},y=function(e){for(var r in e)if(e[r])return!0};return c.a.createElement(O.a,{fluid:!0,className:"form__edit",formValue:o,onChange:function(e){l(e)}},c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Username"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"username",errorMessage:m.usernameErrorValid?m.usernameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Email"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"email",errorMessage:m.emailErrorValid?m.emailErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Admin"),c.a.createElement(w.a,{name:"is_superuser",value:!!o.is_superuser,accepter:pe.a,inline:!0,checked:o.is_superuser,onChange:function(){o.is_superuser=!o.is_superuser,l(Object(Z.a)({},o))}})),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"First name"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"first_name",errorMessage:m.first_nameErrorValid?m.first_nameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"Last name"),c.a.createElement(h.a,null,c.a.createElement(w.a,{name:"last_name",errorMessage:m.last_nameErrorValid?m.last_nameErrorValid:""}))),c.a.createElement(h.a,null,c.a.createElement(g.a,{className:"form__edit-headline"},"password"),c.a.createElement(w.a,{name:"password",errorMessage:m.passwordErrorValid?m.passwordErrorValid:"",type:"password"}),c.a.createElement(g.a,{className:"form__edit-headline"},"Confirm password"),c.a.createElement(w.a,{name:"confirmpassword",errorMessage:m.confirmpasswordErrorValid?m.confirmpasswordErrorValid:"",type:"password"})),!!r&&c.a.createElement(_.a,{className:"login-form__login-error",type:"error",description:r.message}),c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(v.a,{className:"toolbar__button",color:"green",appearance:"primary",onClick:function(){if(S(m),p(o)){var r=R(o);e({type:"ADD_USER",addUserForm:r})}}},"Save"),c.a.createElement(v.a,{className:"toolbar__button",onClick:function(){return e({type:"CLOSE_MODAL"})}},"Cancel"))))},_e=function(){var e=Object(s.b)();e({type:"RESET_USERS_ERRORS",errors:["addUserError","removeUserError","changeUserError"]});var r=Object(s.c)(function(e){return e.modalReducer.modal}),a={DELETE:"Delete user",EDIT:"Edit user",ADD:"Add user"}[r.formType],t={DELETE:"xs",EDIT:"sm",ADD:"sm"}[r.formType];return c.a.createElement(Ee.a,{size:t,centered:!0,show:r.show,onHide:function(){return e({type:"CLOSE_MODAL"})}},c.a.createElement(Ee.a.Header,null,c.a.createElement(Ee.a.Title,null,a)),c.a.createElement(Ee.a.Body,null,c.a.createElement(function(e){switch(e.formType){case"EDIT":return c.a.createElement(fe,null);case"DELETE":return c.a.createElement(be,null);case"ADD":return c.a.createElement(Oe,null);default:return null}},{formType:r.formType})))},he=function(){var e=Object(s.b)(),r=Object(s.c)(function(e){return e.usersReducer.user});return Object(n.useEffect)(function(){r&&!r.name&&e({type:"LOAD_USER_FROM_STORAGE"})},[r]),c.a.createElement("div",{className:"sidebar-page"},c.a.createElement(u.a,null,c.a.createElement(J,null),c.a.createElement(u.a,null,c.a.createElement(I.a,null,c.a.createElement("h2",null,"Users page")),c.a.createElement(m.a,{className:"content"},c.a.createElement(de,null))),c.a.createElement(_e,null)))},ge=a(75),we=a(408),je=a(21),ve=a.n(je),Re=a(23);a(380);function Se(e){return console.log(e),fetch(D,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({id:e.id,timeStart:e.range[0],timeEnd:e.range[1],changeInterval:e.changeInterval})}).then(function(e){if(!e.ok)throw{status:e.status,message:"Server Error"};return e.json()})}function ye(e){return console.log(N),console.log(t),fetch(N,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then(function(e){if(401===e.status)throw{status:e.status,message:"Wrong username or password"};if(!e.ok)throw{status:e.status,message:"Server error"};return e.json()})}function Ce(){return fetch(V,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(function(e){if(!e.ok)throw{status:e.status,message:"Server error"};return e.json()})}function De(){return fetch(A,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(function(e){if(!e.ok)throw{status:e.status,message:"Server error"};return e.json()})}var Ne=ve.a.mark(Fe),Te=ve.a.mark(Ke),Ue=ve.a.mark(ze),Me=ve.a.mark(Je),Ve=ve.a.mark(We),Ae=ve.a.mark(Ze),Le=ve.a.mark(Xe),xe=ve.a.mark($e),ke=ve.a.mark(qe),He=ve.a.mark(Qe),Ie=ve.a.mark(er),Ge=ve.a.mark(rr),Ye=ve.a.mark(ar),Pe=ve.a.mark(tr),Be=ve.a.mark(nr);function Fe(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("AUTH_USER",$e);case 2:case"end":return e.stop()}},Ne)}function Ke(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("GET_CLIENT_DATA",qe);case 2:case"end":return e.stop()}},Te)}function ze(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("CHANGE_USER",rr);case 2:case"end":return e.stop()}},Ue)}function Je(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("REMOVE_USER",er);case 2:case"end":return e.stop()}},Me)}function We(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("ADD_USER",Qe);case 2:case"end":return e.stop()}},Ve)}function Ze(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("GET_USERS",ar);case 2:case"end":return e.stop()}},Ae)}function Xe(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.d)("GET_CLIENTS",tr);case 2:case"end":return e.stop()}},Le)}function $e(e){var r;return ve.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Re.b)(ye,e.loginForm);case 3:return(r=a.sent).url=x,a.next=7,Object(Re.c)({type:"SET_USER",user:r});case 7:br.push(x),a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(Re.c)({type:"LOGIN_ERROR",error:a.t0});case 14:case"end":return a.stop()}},xe,null,[[0,10]])}function qe(e){var r;return ve.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Re.b)(Se,e.params);case 3:return r=a.sent,a.next=6,Object(Re.c)({type:"LOAD_CLIENT_DATA",clientData:r});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(Re.c)({type:"GET_CLIENT_DATA_ERROR",error:a.t0});case 12:case"end":return a.stop()}},ke,null,[[0,8]])}function Qe(e){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Re.c)({type:"GET_USERS"});case 3:return e.next=5,Object(Re.c)({type:"CLOSE_MODAL"});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.next=12,Object(Re.c)({type:"ADD_USER_ERROR",error:e.t0});case 12:case"end":return e.stop()}},He,null,[[0,7]])}function er(e){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Re.c)({type:"GET_USERS"});case 3:return e.next=5,Object(Re.c)({type:"CLOSE_MODAL"});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Re.c)({type:"REMOVE_USER_ERROR",error:e.t0});case 11:case"end":return e.stop()}},Ie,null,[[0,7]])}function rr(e){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Re.c)({type:"GET_USERS"});case 3:return e.next=5,Object(Re.c)({type:"CLOSE_MODAL"});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Re.c)({type:"CHANGE_USER_ERROR",error:e.t0});case 11:case"end":return e.stop()}},Ge,null,[[0,7]])}function ar(){var e;return ve.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Re.b)(Ce);case 3:return e=r.sent,r.next=6,Object(Re.c)({type:"UPLOAD_USERS",users:e});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(Re.c)({type:"GET_USERS_ERROR",error:r.t0});case 12:case"end":return r.stop()}},Ye,null,[[0,8]])}function tr(){var e;return ve.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Re.b)(De);case 3:return e=r.sent,r.next=6,Object(Re.c)({type:"UPLOAD_CLIENTS",clients:e});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(Re.c)({type:"GET_CLIENTS_ERROR",error:r.t0});case 12:case"end":return r.stop()}},Pe,null,[[0,8]])}function nr(){return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)([Ke(),Fe(),ze(),Je(),We(),Ze(),Xe()]);case 2:case"end":return e.stop()}},Be)}var cr=a(116),sr={users:[],user:{name:"",admin:!1,loggedIn:!1,url:null},errors:{}};var or=new Date;or=or.setDate(or.getDate()-140);var lr=new Date;lr=lr.setDate(lr.getDate()-130);var ir={clients:[],client:{clientData:[],range:[new Date(or),new Date(lr)],changeInterval:!1,name:null},errors:{}};var ur={modal:{type:null,form:null,show:!1},errors:{}};var mr=Object(ge.c)({clientsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"GET_CLIENTS":return e;case"UPLOAD_CLIENTS":return e.clients=r.clients,e.client.id=r.clients[0].id,e.client.name=r.clients[0].name,Object(Z.a)(Object(Z.a)({},e),{},{clients:Object(cr.a)(e.clients),client:Object(Z.a)({},e.client)});case"GET_CLIENTS_ERROR":return e.errors.getClientsError=r.error,Object(Z.a)({},e);case"GET_CLIENT_DATA":return e;case"LOAD_CLIENT_DATA":return e.client.clientData=r.clientData,Object(Z.a)(Object(Z.a)({},e),{},{client:Object(Z.a)({},e.client)});case"GET_CLIENT_DATA_ERROR":return e.errors.getClientDataError=r.error,Object(Z.a)({},e);case"SELECT_CLIENT":return e.client.id=r.id,Object(Z.a)(Object(Z.a)({},e),{},{client:Object(Z.a)({},e.client)});case"RESET_CLIENTS_ERRORS":var a,t=Object(W.a)(r.errors);try{for(t.s();!(a=t.n()).done;){var n=a.value;e.errors[n]=""}}catch(c){t.e(c)}finally{t.f()}return Object(Z.a)(Object(Z.a)({},e),{},{errors:Object(Z.a)({},e.errors)});case"CHANGE_INTERVAL":return e.client.changeInterval=r.change,Object(Z.a)(Object(Z.a)({},e),{},{client:Object(Z.a)({},e.client)});case"CHANGE_RANGE":return e.client.range=r.range,Object(Z.a)(Object(Z.a)({},e),{},{client:Object(Z.a)({},e.client)});default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Z.a)({},sr),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"ADD_USER":return e;case"UPLOAD_USER":return e.users.push(r.user),Object(Z.a)(Object(Z.a)({},e),{},{users:Object(cr.a)(e.users)});case"ADD_USER_ERROR":return e.errors.addUserError=r.error,Object(Z.a)({},e);case"REMOVE_USER":return Object(Z.a)(Object(Z.a)({},e),{},{errors:{}});case"UNLOAD_USER":return e.users=e.users.filter(function(e){return e.id!==r.id}),Object(Z.a)(Object(Z.a)({},e),{},{users:Object(cr.a)(e.users)});case"REMOVE_USER_ERROR":return e.errors.removeUserError=r.error,Object(Z.a)({},e);case"AUTH_USER":return{state:e,errors:{}};case"SET_USER":return localStorage.setItem("user",JSON.stringify(r.user)),Object(Z.a)(Object(Z.a)({},e),{},{user:r.user});case"USER_REDIRECT":return e.user&&(e.user.url=r.url),br.push(r.url),Object(Z.a)(Object(Z.a)({},e),{},{user:e.user});case"LOGIN_ERROR":return e.errors.authError=r.error,Object(Z.a)({},e);case"LOAD_USER_FROM_STORAGE":return e.user=JSON.parse(localStorage.getItem("user")),e.user?e.user.url=window.location.href.replace(C,""):br.push("/"),Object(Z.a)({},e);case"LOGOUT":return localStorage.removeItem("user"),e.user=sr.user,br.push("/"),Object(Z.a)({},e);case"GET_USERS":return Object(Z.a)(Object(Z.a)({},e),{},{errors:{}});case"UPLOAD_USERS":return e.users=r.users,Object(Z.a)(Object(Z.a)({},e),{},{users:Object(cr.a)(e.users)});case"GET_USERS_ERROR":return e.errors.getUsersError=r.error,Object(Z.a)({},e);case"CHANGE_USER":return Object(Z.a)(Object(Z.a)({},e),{},{errors:{}});case"REFRESH_USER":return e.users=e.users.map(function(e){return e.id===r.user.id&&(e=r.user),e}),Object(Z.a)(Object(Z.a)({},e),{},{users:Object(cr.a)(e.users)});case"CHANGE_USER_ERROR":return e.errors.changeUserError=r.error,Object(Z.a)({},e);case"RESET_USERS_ERRORS":var a,t=Object(W.a)(r.errors);try{for(t.s();!(a=t.n()).done;){var n=a.value;e.errors[n]=""}}catch(c){t.e(c)}finally{t.f()}return Object(Z.a)(Object(Z.a)({},e),{},{errors:Object(Z.a)({},e.errors)});default:return e}},modalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"OPEN_MODAL":return e.modal.formType=r.formType,e.modal.form=r.form,e.modal.show=!0,Object(Z.a)(Object(Z.a)({},e),{},{modal:Object(Z.a)({},e.modal)});case"CLOSE_MODAL":return e.modal.show=!1,Object(Z.a)(Object(Z.a)({},e),{},{modal:Object(Z.a)({},e.modal)});default:return e}}}),dr=Object(we.a)(),Er=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,pr=Object(ge.e)(mr,Er(Object(ge.a)(dr)));dr.run(nr);var fr=pr;a.d(r,"history",function(){return br});var br=Object(ce.a)();l.a.render(c.a.createElement(s.a,{store:fr},c.a.createElement(i.b,{history:br},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:S}),c.a.createElement(i.a,{exact:!0,path:"/users",component:he}),c.a.createElement(i.a,{path:"/statistics",component:ne})))),document.getElementById("root"))}},[[411,1,2]]]);
//# sourceMappingURL=main.c521355a.chunk.js.map